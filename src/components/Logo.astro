---

---

<div
  transition:persist
  class="w-[114px] h-[135px] scale-[.4] absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"
>
  <div id="logo" class="w-full h-full origin-center">
    <svg
      class="absolute top-0 left-0"
      id="white1"
      viewBox="0 0 114 135"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M38 123L50.924 133.5L89.6608 88.5002L77.3689 76.5552L38 123Z"
        fill="#BCBCBC"></path>
      <path
        d="M112.724 63L68.6307 24L62.5254 41L113.403 86L112.724 63Z"
        fill="#BCBCBC"></path>
    </svg>
    <svg
      class="absolute top-0 left-0"
      id="purple"
      viewBox="0 0 114 135"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M50.8762 94L44.771 111L62.4084 106.5L68.5137 90L50.8762 94Z"
        fill="#481799"></path>
      <path
        d="M23.7418 46.5L68.5137 90L50.8762 94L-0.000940708 49L43.309 -1.6241e-06L62.4786 1.5L23.7418 46.5Z"
        fill="#8E5CF7"></path>
      <path
        d="M75.4043 11.9998L62.4803 1.49982L23.7435 46.4998L36.0354 58.4448L75.4043 11.9998Z"
        fill="#562DAC"></path>
      <path
        d="M0.678124 72L44.7717 111L50.877 94L-0.000236787 49L0.678124 72Z"
        fill="#562DAC"></path>
    </svg>
    <svg
      class="absolute top-0 left-0"
      id="white2"
      viewBox="0 0 114 135"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M89.6606 88.5L44.8887 45L62.5261 41L113.403 86L70.0933 135L50.9238 133.5L89.6606 88.5Z"
        fill="#E7E7E7"></path>
      <path
        d="M62.5261 41L68.6314 24L50.9939 28.5L44.8887 45L62.5261 41Z"
        fill="#FFFFFF"></path>
    </svg>
  </div>
</div>

<script>
  import { animate } from "motion";

  // Wait for DOM to be ready
  document.addEventListener("DOMContentLoaded", () => {
    const distanceX = 100;
    const distanceY = 8;

    const logo = document.querySelector("#logo");
    const purple = document.querySelector("#purple");
    const white1 = document.querySelector("#white1");
    const white2 = document.querySelector("#white2");

    const animation = async (
      target: Element | null | undefined,
      inverted: boolean = false
    ) => {
      if (!target) return;

      // Initial position
      await animate(
        target,
        {
          x: inverted ? -distanceX : distanceX,
        },
        {
          duration: 0,
        }
      );

      // Animate to center
      await animate(
        target,
        {
          x: 0,
        },
        {
          ease: "easeIn",
          duration: 0.5,
        }
      );

      // Reset Y position
      await animate(target, {
        y: 0,
      });

      // Bounce effect
      await animate(
        target,
        {
          y: inverted ? -distanceY : distanceY,
        },
        {
          type: "spring",
          damping: 6,
          stiffness: 400,
          delay: 0.25,
        }
      );
    };

    if (!logo) return;

    animate(
      logo,
      {
        opacity: [0, 1],
        rotate: [-180, 0],
        scale: [2, 1],
      },
      {
        ease: "easeIn",
        duration: 0.5,
        delay: 0.5,
      }
    );

    animation(purple, true);
    animation(white1);
    animation(white2);

    logo?.addEventListener("click", () => {
      logo.animate(
        {
          scale: [0, 100],
        },
        {
          duration: 1,
        }
      );
    });

    // add hover functionality
    logo?.addEventListener("mouseenter", () => {
      animate(
        "#purple",
        {
          y: 0,
          x: -10,
        },
        {
          type: "spring",
          damping: 6,
          stiffness: 200,
        }
      );
      animate(
        "#white1",
        {
          y: 0,
          x: 10,
        },
        {
          type: "spring",
          damping: 6,
          stiffness: 200,
        }
      );
      animate(
        "#white2",
        {
          y: 0,
          x: 10,
        },
        {
          type: "spring",
          damping: 6,
          stiffness: 200,
        }
      );
      animate(
        "#logo",
        {
          scale: 1.3,
        },
        {
          type: "spring",
          damping: 14,
          stiffness: 200,
        }
      );
    });

    logo?.addEventListener("mouseleave", () => {
      animate(
        "#purple",
        {
          y: -8,
          x: 0,
        },
        {
          type: "spring",
          damping: 14,
          stiffness: 200,
        }
      );
      animate(
        "#white1",
        {
          y: 8,
          x: 0,
        },
        {
          type: "spring",
          damping: 14,
          stiffness: 200,
        }
      );
      animate(
        "#white2",
        {
          y: 8,
          x: 0,
        },
        {
          type: "spring",
          damping: 14,
          stiffness: 200,
        }
      );
      animate(
        "#logo",
        {
          scale: 1,
        },
        {
          type: "spring",
          damping: 14,
          stiffness: 200,
        }
      );
    });
  });
</script>
